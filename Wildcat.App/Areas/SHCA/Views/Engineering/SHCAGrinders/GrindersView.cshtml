@*@model Wildcat.App.ViewModels.Engineering.SHCAGrindersIndexViewModel
@{
    ViewData["Title"] = "GrindersView";
}

<h2>GrindersView</h2>

<div id="bootstrap-table-toolbar" class="row">
    <div class="col-sm-2">
        @Html.DropDownListFor(x => x.GrindersSelect, Model.GrindersSelect, new { @id = "grinderSelect", @class = "custom-select", @style = "btn-default" })    <br />

    </div>
</div>

<div id="viewContent">

    <div class="row">
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c1" class="circles" style="background-color: @Model.BagHousePressureWarning; border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">Bag House Pressure Warning</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c2" class="circles" style="background-color: @Model.GrindAutoGrind;border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">Grind Auto Grind</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c3" class="circles" style="background-color: @Model.RunAutoGrind;border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">Run Auto Grind</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c4" class="circles" style="background-color: @Model.BoomIn;border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">Boom In</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c5" class="circles" style="background-color: @Model.BoomOut;border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">Boom Out</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 ">
            <div class="card ">
                <div class="card-body">
                    <div class="align-items-center">
                        <div id="c6" class="circles" style="background-color: @Model.InGrindArea;border-radius: 100px; margin: 0 auto; height: 45px; width: 45px;"></div>
                        <h6 style="margin: 0 auto; padding-top: 10px; text-align: center;">In Grind Area</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br />
    <div id="blockContactTime">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-contactTime" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
    <br />
    <div id="blockIndexPosition">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-IndexPosition" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
    <br />
    <div id="blockTravelSpeed">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-TravelSpeed" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
    <br />
    <div id="blockPressureDiff">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-PressureDiff" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
    <br />
    <div id="blockLubeTempReturn">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-TempReturn" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
    <br />
    <div id="blockLubeTempSupply">
        <div class="demo-vertical-spacing-lg">
            <canvas id="chart-TempSupply" height="250" class="chartjs-demo"></canvas>
        </div>
    </div>
</div>*@



<script>
    $("#grinderSelect").change(function () {
        var selectedGrinder = $("#grinderSelect").val();

        $('#c1').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderPressureWarning?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c1').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c1').unblock();
            },
            error: function (result) {
                $('#c1').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c2').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderAutoGrind?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c2').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c2').unblock();
            },
            error: function (result) {
                $('#c2').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c3').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderAutoGrind?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c3').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c3').unblock();
            },
            error: function (result) {
                $('#c3').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c4').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderBoomIn?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c4').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c4').unblock();
            },
            error: function (result) {
                $('#c4').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c5').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderBoomOut?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c5').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c5').unblock();
            },
            error: function (result) {
                $('#c5').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c6').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderInGrindArea?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c6').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c6').unblock();
            },
            error: function (result) {
                $('#c6').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('.chartjs-demo').each(function () {
            $(this).wrap($('<div style="height:' + this.getAttribute('height') + 'px"></div>'));
        });

        $('#blockContactTime').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderContactTime?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-contactTime').getContext("2d"), {
                        type: 'line',
                        data: {
                            //labels: result.timestamps,
                            datasets: [{
                                label: 'Contact Time',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockContactTime').unblock();
            },
            error: function (result) {
                $('#blockContactTime').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockIndexPosition').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderIndexPosition?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-IndexPosition').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Index Position',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockIndexPosition').unblock();
            },
            error: function (result) {
                $('#blockIndexPosition').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockTravelSpeed').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderTravelSpeed?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TravelSpeed').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Travel Speed',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockTravelSpeed').unblock();
            },
            error: function (result) {
                $('#blockTravelSpeed').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockPressureDiff').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderPressureDiff?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-PressureDiff').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Pressure Diff',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockPressureDiff').unblock();
            },
            error: function (result) {
                $('#blockPressureDiff').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockLubeTempReturn').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderLubeTempReturn?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TempReturn').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Lube Oil Temp Return',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockLubeTempReturn').unblock();
            },
            error: function (result) {
                $('#blockLubeTempReturn').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockLubeTempSupply').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderLubeTempSupply?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TempSupply').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Lube Oil Temp Supply',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockLubeTempSupply').unblock();
            },
            error: function (result) {
                $('#blockLubeTempSupply').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });
        return false;
    });

    function setTable() {
        $(function () {
            var $table = $('#bootstrap-table-example');
            var $remove = $('#bootstrap-table-remove');
            var selections = [];

            function getIdSelections() {
                return $.map($table.bootstrapTable('getSelections'), function (row) {
                    return row.id;
                });
            }

            $table.bootstrapTable({
                height: 500,
                iconsPrefix: 'opacity-75 ion',
                icons: {
                    paginationSwitchDown: 'ion-ios-arrow-down icon-chevron-down',
                    paginationSwitchUp: 'ion-ios-arrow-up icon-chevron-up',
                    refresh: 'ion-md-refresh icon-refresh',
                    columns: 'ion-md-apps icon-th',
                    detailOpen: 'ion-md-add icon-plus',
                    detailClose: 'ion-md-remove icon-minus',
                    export: 'ion-md-cloud-download icon-share'
                },
                detailFormatter: function detailFormatter(index, row) {
                    var html = [];

                    $.each(row, function (key, value) {
                        html.push('<p><b>' + key + ':</b> ' + (typeof value === 'undefined' ? false : value) + '</p>');
                    });

                    return html.join('');
                },
                columns: [
                    //[
                    //  {
                    //    field: 'state',
                    //    checkbox: true,
                    //    rowspan: 2,
                    //    align: 'center',
                    //    valign: 'middle'
                    //  }, {
                    //    title: 'Item ID',
                    //    field: 'id',
                    //    rowspan: 2,
                    //    align: 'center',
                    //    valign: 'middle',
                    //    sortable: true,
                    //    footerFormatter: function totalTextFormatter(data) {
                    //      return 'Total';
                    //    }
                    //  }, {
                    //    title: 'Item Detail',
                    //    colspan: 3,
                    //    align: 'center'
                    //  }
                    //],
                    //[
                    //  {
                    //    field: 'name',
                    //    title: 'Item Name',
                    //    sortable: true,
                    //    editable: true,
                    //    footerFormatter: function totalNameFormatter(data) {
                    //      return data.length;
                    //    },
                    //    align: 'center'
                    //  }, {
                    //    field: 'price',
                    //    title: 'Item Price',
                    //    sortable: true,
                    //    align: 'center',
                    //    editable: {
                    //      type: 'text',
                    //      title: 'Item Price',
                    //      validate: function (value) {
                    //        value = $.trim(value);

                    //        if (!value) { return 'This field is required'; }
                    //        if (!/^\$/.test(value)) { return 'This field needs to start width $.' }

                    //        var data = $table.bootstrapTable('getData');
                    //        var index = $(this).parents('tr').data('index');

                    //        // console.log(data[index]);
                    //        return '';
                    //      }
                    //    },
                    //    footerFormatter: function totalPriceFormatter(data) {
                    //      var total = 0;

                    //      $.each(data, function (i, row) {
                    //        total += +(row.price.substring(1));
                    //      });

                    //      return '$' + total;
                    //    }
                    //  }, {
                    //    field: 'operate',
                    //    title: 'Item Operate',
                    //    align: 'center',
                    //    events: {
                    //      'click .like': function (e, value, row, index) {
                    //        alert('You click like action, row: ' + JSON.stringify(row));
                    //      },
                    //      'click .remove': function (e, value, row, index) {
                    //        $table.bootstrapTable('remove', {
                    //          field: 'id',
                    //          values: [row.id]
                    //        });
                    //      }
                    //    },
                    //    formatter: function operateFormatter(value, row, index) {
                    //      return [
                    //        '<a class="btn btn-xs icon-btn btn-outline-default borderless like" href="javascript:void(0)" title="Like">',
                    //        '<i class="ion ion-md-heart"></i>',
                    //        '</a>  ',
                    //        '<a class="btn btn-xs icon-btn btn-outline-danger borderless remove" href="javascript:void(0)" title="Remove">',
                    //        '<i class="ion ion-md-close"></i>',
                    //        '</a>'
                    //      ].join('');
                    //    }
                    //  }
                    //]
                ]
            });


            // Make bootstrapTable compatible with Bootstrap 4
            if ($('body').attr('dir') !== 'rtl' && $('html').attr('dir') !== 'rtl') {
                $('.bootstrap-table .pull-right .dropdown-menu').addClass('dropdown-menu-right');
                $('.bootstrap-table .pull-left .dropdown-menu').removeClass('dropdown-menu-right');
            } else {
                $('.bootstrap-table .pull-left .dropdown-menu').addClass('dropdown-menu-right');
            }


            // sometimes footer render error.
            setTimeout(function () {
                $table.bootstrapTable('resetView');
            }, 200);

            $table.on('check.bs.table uncheck.bs.table ' + 'check-all.bs.table uncheck-all.bs.table', function () {
                $remove.prop('disabled', !$table.bootstrapTable('getSelections').length);
                // save your data, here just save the current page
                selections = getIdSelections();
                // push or splice the selections if you want to save all data selections
            });

            $table.on('all.bs.table', function (e, name, args) {
                // console.log(name, args);
            });

            $remove.click(function () {
                var ids = getIdSelections();

                $table.bootstrapTable('remove', {
                    field: 'id',
                    values: ids
                });
                $remove.prop('disabled', true);
            });

        });

    }

    $(document).ready(function () {
        $('.chartjs-demo').each(function () {
            $(this).wrap($('<div style="height:' + this.getAttribute('height') + 'px"></div>'));
        });

        var selectedGrinder = $("#grinderSelect").val();

        $('#c1').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderPressureWarning?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c1').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c1').unblock();
            },
            error: function (result) {
                $('#c1').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c2').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderAutoGrind?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c2').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c2').unblock();
            },
            error: function (result) {
                $('#c2').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c3').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderAutoGrind?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c3').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c3').unblock();
            },
            error: function (result) {
                $('#c3').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c4').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderBoomIn?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c4').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c4').unblock();
            },
            error: function (result) {
                $('#c4').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c5').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderBoomOut?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c5').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c5').unblock();
            },
            error: function (result) {
                $('#c5').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#c6').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderInGrindArea?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    $('#c6').css("background-color", result.color);
                    //setTable();
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#c6').unblock();
            },
            error: function (result) {
                $('#c6').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockContactTime').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderContactTime?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-contactTime').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Contact Time',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockContactTime').unblock();
            },
            error: function (result) {
                $('#blockContactTime').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockIndexPosition').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderIndexPosition?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-IndexPosition').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Index Position',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockIndexPosition').unblock();
            },
            error: function (result) {
                $('#blockIndexPosition').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockTravelSpeed').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderTravelSpeed?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TravelSpeed').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Travel Speed',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockTravelSpeed').unblock();
            },
            error: function (result) {
                $('#blockTravelSpeed').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockPressureDiff').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderPressureDiff?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-PressureDiff').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Pressure Diff',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockPressureDiff').unblock();
            },
            error: function (result) {
                $('#blockPressureDiff').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });


        $('#blockLubeTempReturn').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderLubeTempReturn?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TempReturn').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Lube Oil Temp Return',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockLubeTempReturn').unblock();
            },
            error: function (result) {
                $('#blockLubeTempReturn').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        $('#blockLubeTempSupply').block({
            message: '<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>',
            css: {
                backgroundColor: 'transparent',
                border: '0'
            },
            overlayCSS: {
                backgroundColor: '#fff',
                opacity: 0.8
            }
        });
        $.ajax({
            url: "/Engineering/SHCAGrinders/GetGrinderLubeTempSupply?ID=" + selectedGrinder,
            type: "GET",
            cache: false,
            success: function (result) {
                if (result.success) {
                    //$('#chart-graph').css("background-color", result.color);
                    var graphChart = new Chart(document.getElementById('chart-TempSupply').getContext("2d"), {
                        type: 'line',
                        data: {
                            labels: result.timestamps,
                            datasets: [{
                                label: 'Lube Oil Temp Supply',
                                data: result.values,
                                borderWidth: 1,
                                backgroundColor: 'rgba(255, 193, 7, 0.3)',
                                borderColor: '#FFC107',
                                borderDash: [5, 5],
                                fill: false
                            }],
                        },

                        // Demo
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                else {
                    $.growl.error({
                        message: result.message
                    });
                }

                $('#blockLubeTempSupply').unblock();
            },
            error: function (result) {
                $('#blockLubeTempSupply').unblock();
                $.growl.error({
                    message: result.message
                });
            }

        });

        //setTable();
        $(function () {

            function circleBlink() {
                var circles = $('.circles');
                circles.hide();
                circles.fadeIn('slow', function () { });
                //$(circles[0]).fadeIn('slow', function () {

                //});
                //$(circles[1]).fadeIn('slow', function () {

                //});
                //$(circles[2]).fadeIn('slow', function () {

                //});
                //$(circles[3]).fadeIn('slow', function () {

                //});
                //$(circles[4]).fadeIn('slow', function () {

                //});
                //$(circles[5]).fadeIn('slow', function () {

                //});

            };
            setInterval(circleBlink, 2500);
        })
    });
</script>
<script src="~/html-demo/assets/vendor/libs/chartjs/chartjs.js"></script>
@*<script src="~/html-demo/assets/js/charts_chartjs.js"></script>*@
